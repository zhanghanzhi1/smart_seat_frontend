{"ast":null,"code":"import _objectSpread from\"D:/mylessons/CP 3405/frontend/smart_seat_frontend/smart-seat/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SeatRecords=()=>{const[userInfo,setUserInfo]=useState(null);const[bookings,setBookings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const statusMap={0:'Upcoming',1:'Completed',2:'Canceled',3:'Expired'};useEffect(()=>{const fetchUserAndBookings=async()=>{try{const currentUserStr=localStorage.getItem('currentUser');if(!currentUserStr)throw new Error('User information missing, please log in again');const currentUser=JSON.parse(currentUserStr);if(!currentUser.id)throw new Error('User information missing, please log in again');const userId=currentUser.id;const userResponse=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/users/me\"),{headers:{'user-id':userId}});setUserInfo(userResponse.data);const bookingsResponse=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/bookings?userId=\").concat(userId));const sortedBookings=bookingsResponse.data.sort((a,b)=>{const timeA=new Date(\"\".concat(a.date,\" \").concat(a.start_time)).getTime();const timeB=new Date(\"\".concat(b.date,\" \").concat(b.start_time)).getTime();return timeB-timeA;});setBookings(sortedBookings);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message);}finally{setLoading(false);}};fetchUserAndBookings();},[]);const formatLocation=room=>{if(room.startsWith('library-'))return\"Library - Floor \".concat(room.split('-')[1]);if(room==='canteen')return'Canteen';if(room.includes('-')){const[buildingFloor,roomNum]=room.split('-');return\"Teaching Building \".concat(buildingFloor.charAt(0),\" - Room \").concat(buildingFloor.slice(1),\"-\").concat(roomNum);}return room;};const cancelBooking=async bookingId=>{if(window.confirm('Are you sure you want to cancel this booking?')){try{await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/bookings/\").concat(bookingId,\"/cancel\"));setBookings(bookings.map(booking=>booking.id===bookingId?_objectSpread(_objectSpread({},booking),{},{status:2}):booking));}catch(err){var _err$response2,_err$response2$data;alert('Failed to cancel booking: '+(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Unknown error'));}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"records-container\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          * {\\n            margin: 0;\\n            padding: 0;\\n            box-sizing: border-box;\\n            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\\n          }\\n          .records-container {\\n            width: 100%;\\n            min-height: 100vh;\\n            background-color: #f8fafc;\\n            padding: 1rem;\\n          }\\n          .records-header {\\n            margin-bottom: 1.5rem;\\n            border-bottom: 1px solid #e2e8f0;\\n            padding-bottom: 0.8rem;\\n          }\\n          .records-header h1 {\\n            color: #0f172a;\\n            font-size: 1.5rem;\\n            font-weight: 600;\\n          }\\n          .records-header p {\\n            color: #64748b;\\n            font-size: 0.9rem;\\n            margin-top: 0.3rem;\\n          }\\n          .loading-state, .error-state, .empty-state {\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            height: 300px;\\n            background-color: #ffffff;\\n            border-radius: 8px;\\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\\n            color: #64748b;\\n            font-size: 1rem;\\n            padding: 0 1rem;\\n            text-align: center;\\n          }\\n          .error-state {\\n            color: #ef4444;\\n          }\\n          .booking-cards {\\n            display: flex;\\n            flex-direction: column;\\n            gap: 1rem;\\n          }\\n          .booking-card {\\n            background-color: #ffffff;\\n            border-radius: 8px;\\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\\n            padding: 1rem;\\n            display: flex;\\n            flex-direction: column;\\n            gap: 0.8rem;\\n          }\\n          .booking-card-header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n          }\\n          .booking-location {\\n            font-weight: 600;\\n            color: #0f172a;\\n          }\\n          .status-badge {\\n            display: inline-block;\\n            padding: 0.2rem 0.5rem;\\n            border-radius: 4px;\\n            font-size: 0.8rem;\\n            font-weight: 600;\\n          }\\n          .status-upcoming {\\n            background-color: #dbeafe;\\n            color: #1e40af;\\n          }\\n          .status-completed {\\n            background-color: #dcfce7;\\n            color: #166534;\\n          }\\n          .status-canceled {\\n            background-color: #fee2e2;\\n            color: #b91c1c;\\n          }\\n          .status-expired {\\n            background-color: #fef3c7;\\n            color: #92400e;\\n          }\\n          .booking-details {\\n            display: flex;\\n            flex-direction: column;\\n            gap: 0.4rem;\\n          }\\n          .booking-detail-item {\\n            display: flex;\\n            justify-content: space-between;\\n            font-size: 0.9rem;\\n          }\\n          .detail-label {\\n            color: #64748b;\\n          }\\n          .detail-value {\\n            color: #334155;\\n            font-weight: 500;\\n          }\\n          .time-display {\\n            color: #1e40af;\\n          }\\n          .booking-actions {\\n            display: flex;\\n            justify-content: flex-end;\\n            margin-top: 0.5rem;\\n          }\\n          .cancel-btn {\\n            padding: 0.4rem 0.8rem;\\n            background-color: #ef4444;\\n            color: white;\\n            border: none;\\n            border-radius: 4px;\\n            cursor: pointer;\\n            font-weight: 500;\\n            font-size: 0.9rem;\\n          }\\n          .cancel-btn:hover {\\n            background-color: #dc2626;\\n          }\\n          \\n          @media (min-width: 768px) {\\n            .table-wrapper {\\n              overflow-x: auto;\\n            }\\n            .records-table-container {\\n              background-color: #ffffff;\\n              border-radius: 8px;\\n              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\\n              overflow: hidden;\\n            }\\n            .records-table {\\n              width: 100%;\\n              min-width: 600px;\\n              border-collapse: collapse;\\n            }\\n            .records-table th {\\n              background-color: #1e40af;\\n              color: #ffffff;\\n              text-align: left;\\n              padding: 0.8rem 1rem;\\n              font-size: 0.85rem;\\n              font-weight: 600;\\n              text-transform: uppercase;\\n              letter-spacing: 0.5px;\\n            }\\n            .records-table td {\\n              padding: 0.8rem 1rem;\\n              color: #334155;\\n              font-size: 0.85rem;\\n              border-bottom: 1px solid #f1f5f9;\\n            }\\n            .records-table tr:last-child td {\\n              border-bottom: none;\\n            }\\n            .records-table tr:hover td {\\n              background-color: #f8fafc;\\n            }\\n            .booking-cards {\\n              display: none;\\n            }\\n          }\\n          \\n          @media (max-width: 767px) {\\n            .records-table-container {\\n              display: none;\\n            }\\n          }\\n        \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"records-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Booking Records\"}),userInfo&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",userInfo.name,\" | JCU ID: \",userInfo.jcu_id]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-state\",children:\"Loading booking records...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error-state\",children:error}):bookings.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:\"No booking records available\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"booking-cards\",children:bookings.map(booking=>/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-card-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"booking-location\",children:formatLocation(booking.room)}),/*#__PURE__*/_jsx(\"span\",{className:\"status-badge status-\".concat(booking.status===0?'upcoming':booking.status===1?'completed':booking.status===2?'canceled':'expired'),children:statusMap[booking.status]||'Unknown Status'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Seat Number:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:booking.seat_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Booking Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:new Date(booking.date).toISOString().split('T')[0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Time Slot:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value time-display\",children:[booking.start_time,\" - \",booking.end_time]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"booking-actions\",children:booking.status===0&&/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:()=>cancelBooking(booking.id),children:\"Cancel\"})})]},booking.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"records-table-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"records-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Booking Location\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Seat Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Booking Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Booking Time Slot\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Booking Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bookings.map(booking=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatLocation(booking.room)}),/*#__PURE__*/_jsx(\"td\",{children:booking.seat_number}),/*#__PURE__*/_jsx(\"td\",{children:new Date(booking.date).toISOString().split('T')[0]}),/*#__PURE__*/_jsxs(\"td\",{className:\"time-display\",children:[booking.start_time,\" - \",booking.end_time]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge status-\".concat(booking.status===0?'upcoming':booking.status===1?'completed':booking.status===2?'canceled':'expired'),children:statusMap[booking.status]||'Unknown Status'})}),/*#__PURE__*/_jsx(\"td\",{children:booking.status===0&&/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:()=>cancelBooking(booking.id),children:\"Cancel\"})})]},booking.id))})]})})})]})]});};export default SeatRecords;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SeatRecords","userInfo","setUserInfo","bookings","setBookings","loading","setLoading","error","setError","statusMap","fetchUserAndBookings","currentUserStr","localStorage","getItem","Error","currentUser","JSON","parse","id","userId","userResponse","get","concat","process","env","REACT_APP_API_URL","headers","data","bookingsResponse","sortedBookings","sort","a","b","timeA","Date","date","start_time","getTime","timeB","err","_err$response","_err$response$data","response","message","formatLocation","room","startsWith","split","includes","buildingFloor","roomNum","charAt","slice","cancelBooking","bookingId","window","confirm","put","map","booking","_objectSpread","status","_err$response2","_err$response2$data","alert","className","children","name","jcu_id","length","seat_number","toISOString","end_time","onClick"],"sources":["D:/mylessons/CP 3405/frontend/smart_seat_frontend/smart-seat/src/seat-records.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nconst SeatRecords = () => {\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const statusMap = { 0: 'Upcoming', 1: 'Completed', 2: 'Canceled', 3: 'Expired' };\r\n\r\n  useEffect(() => {\r\n    const fetchUserAndBookings = async () => {\r\n      try {\r\n        const currentUserStr = localStorage.getItem('currentUser');\r\n        if (!currentUserStr) throw new Error('User information missing, please log in again');\r\n        \r\n        const currentUser = JSON.parse(currentUserStr);\r\n        if (!currentUser.id) throw new Error('User information missing, please log in again');\r\n        \r\n        const userId = currentUser.id;\r\n        const userResponse = await axios.get(`${process.env.REACT_APP_API_URL}/api/users/me`, {\r\n          headers: { 'user-id': userId }\r\n        });\r\n        setUserInfo(userResponse.data);\r\n        \r\n        const bookingsResponse = await axios.get(`${process.env.REACT_APP_API_URL}/api/bookings?userId=${userId}`);\r\n        const sortedBookings = bookingsResponse.data.sort((a, b) => {\r\n          const timeA = new Date(`${a.date} ${a.start_time}`).getTime();\r\n          const timeB = new Date(`${b.date} ${b.start_time}`).getTime();\r\n          return timeB - timeA;\r\n        });\r\n        setBookings(sortedBookings);\r\n      } catch (err) {\r\n        setError(err.response?.data?.message || err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchUserAndBookings();\r\n  }, []);\r\n\r\n  const formatLocation = (room) => {\r\n    if (room.startsWith('library-')) return `Library - Floor ${room.split('-')[1]}`;\r\n    if (room === 'canteen') return 'Canteen';\r\n    if (room.includes('-')) {\r\n      const [buildingFloor, roomNum] = room.split('-');\r\n      return `Teaching Building ${buildingFloor.charAt(0)} - Room ${buildingFloor.slice(1)}-${roomNum}`;\r\n    }\r\n    return room;\r\n  };\r\n\r\n  const cancelBooking = async (bookingId) => {\r\n    if (window.confirm('Are you sure you want to cancel this booking?')) {\r\n      try {\r\n        await axios.put(`${process.env.REACT_APP_API_URL}/api/bookings/${bookingId}/cancel`);\r\n        setBookings(bookings.map(booking => \r\n          booking.id === bookingId ? { ...booking, status: 2 } : booking\r\n        ));\r\n      } catch (err) {\r\n        alert('Failed to cancel booking: ' + (err.response?.data?.message || 'Unknown error'));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"records-container\">\r\n      <style>\r\n        {`\r\n          * {\r\n            margin: 0;\r\n            padding: 0;\r\n            box-sizing: border-box;\r\n            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n          }\r\n          .records-container {\r\n            width: 100%;\r\n            min-height: 100vh;\r\n            background-color: #f8fafc;\r\n            padding: 1rem;\r\n          }\r\n          .records-header {\r\n            margin-bottom: 1.5rem;\r\n            border-bottom: 1px solid #e2e8f0;\r\n            padding-bottom: 0.8rem;\r\n          }\r\n          .records-header h1 {\r\n            color: #0f172a;\r\n            font-size: 1.5rem;\r\n            font-weight: 600;\r\n          }\r\n          .records-header p {\r\n            color: #64748b;\r\n            font-size: 0.9rem;\r\n            margin-top: 0.3rem;\r\n          }\r\n          .loading-state, .error-state, .empty-state {\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            height: 300px;\r\n            background-color: #ffffff;\r\n            border-radius: 8px;\r\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\r\n            color: #64748b;\r\n            font-size: 1rem;\r\n            padding: 0 1rem;\r\n            text-align: center;\r\n          }\r\n          .error-state {\r\n            color: #ef4444;\r\n          }\r\n          .booking-cards {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 1rem;\r\n          }\r\n          .booking-card {\r\n            background-color: #ffffff;\r\n            border-radius: 8px;\r\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\r\n            padding: 1rem;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 0.8rem;\r\n          }\r\n          .booking-card-header {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n          }\r\n          .booking-location {\r\n            font-weight: 600;\r\n            color: #0f172a;\r\n          }\r\n          .status-badge {\r\n            display: inline-block;\r\n            padding: 0.2rem 0.5rem;\r\n            border-radius: 4px;\r\n            font-size: 0.8rem;\r\n            font-weight: 600;\r\n          }\r\n          .status-upcoming {\r\n            background-color: #dbeafe;\r\n            color: #1e40af;\r\n          }\r\n          .status-completed {\r\n            background-color: #dcfce7;\r\n            color: #166534;\r\n          }\r\n          .status-canceled {\r\n            background-color: #fee2e2;\r\n            color: #b91c1c;\r\n          }\r\n          .status-expired {\r\n            background-color: #fef3c7;\r\n            color: #92400e;\r\n          }\r\n          .booking-details {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 0.4rem;\r\n          }\r\n          .booking-detail-item {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            font-size: 0.9rem;\r\n          }\r\n          .detail-label {\r\n            color: #64748b;\r\n          }\r\n          .detail-value {\r\n            color: #334155;\r\n            font-weight: 500;\r\n          }\r\n          .time-display {\r\n            color: #1e40af;\r\n          }\r\n          .booking-actions {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            margin-top: 0.5rem;\r\n          }\r\n          .cancel-btn {\r\n            padding: 0.4rem 0.8rem;\r\n            background-color: #ef4444;\r\n            color: white;\r\n            border: none;\r\n            border-radius: 4px;\r\n            cursor: pointer;\r\n            font-weight: 500;\r\n            font-size: 0.9rem;\r\n          }\r\n          .cancel-btn:hover {\r\n            background-color: #dc2626;\r\n          }\r\n          \r\n          @media (min-width: 768px) {\r\n            .table-wrapper {\r\n              overflow-x: auto;\r\n            }\r\n            .records-table-container {\r\n              background-color: #ffffff;\r\n              border-radius: 8px;\r\n              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\r\n              overflow: hidden;\r\n            }\r\n            .records-table {\r\n              width: 100%;\r\n              min-width: 600px;\r\n              border-collapse: collapse;\r\n            }\r\n            .records-table th {\r\n              background-color: #1e40af;\r\n              color: #ffffff;\r\n              text-align: left;\r\n              padding: 0.8rem 1rem;\r\n              font-size: 0.85rem;\r\n              font-weight: 600;\r\n              text-transform: uppercase;\r\n              letter-spacing: 0.5px;\r\n            }\r\n            .records-table td {\r\n              padding: 0.8rem 1rem;\r\n              color: #334155;\r\n              font-size: 0.85rem;\r\n              border-bottom: 1px solid #f1f5f9;\r\n            }\r\n            .records-table tr:last-child td {\r\n              border-bottom: none;\r\n            }\r\n            .records-table tr:hover td {\r\n              background-color: #f8fafc;\r\n            }\r\n            .booking-cards {\r\n              display: none;\r\n            }\r\n          }\r\n          \r\n          @media (max-width: 767px) {\r\n            .records-table-container {\r\n              display: none;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n      <div className=\"records-header\">\r\n        <h1>My Booking Records</h1>\r\n        {userInfo && <p>Name: {userInfo.name} | JCU ID: {userInfo.jcu_id}</p>}\r\n      </div>\r\n      {loading ? (\r\n        <div className=\"loading-state\">Loading booking records...</div>\r\n      ) : error ? (\r\n        <div className=\"error-state\">{error}</div>\r\n      ) : bookings.length === 0 ? (\r\n        <div className=\"empty-state\">No booking records available</div>\r\n      ) : (\r\n        <>\r\n          <div className=\"booking-cards\">\r\n            {bookings.map(booking => (\r\n              <div key={booking.id} className=\"booking-card\">\r\n                <div className=\"booking-card-header\">\r\n                  <span className=\"booking-location\">{formatLocation(booking.room)}</span>\r\n                  <span \r\n                    className={`status-badge status-${\r\n                      booking.status === 0 ? 'upcoming' : \r\n                      booking.status === 1 ? 'completed' : \r\n                      booking.status === 2 ? 'canceled' : 'expired'\r\n                    }`}\r\n                  >\r\n                    {statusMap[booking.status] || 'Unknown Status'}\r\n                  </span>\r\n                </div>\r\n                <div className=\"booking-details\">\r\n                  <div className=\"booking-detail-item\">\r\n                    <span className=\"detail-label\">Seat Number:</span>\r\n                    <span className=\"detail-value\">{booking.seat_number}</span>\r\n                  </div>\r\n                  <div className=\"booking-detail-item\">\r\n                    <span className=\"detail-label\">Booking Date:</span>\r\n                    <span className=\"detail-value\">{new Date(booking.date).toISOString().split('T')[0]}</span>\r\n                  </div>\r\n                  <div className=\"booking-detail-item\">\r\n                    <span className=\"detail-label\">Time Slot:</span>\r\n                    <span className=\"detail-value time-display\">\r\n                      {booking.start_time} - {booking.end_time}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"booking-actions\">\r\n                  {booking.status === 0 && (\r\n                    <button \r\n                      className=\"cancel-btn\"\r\n                      onClick={() => cancelBooking(booking.id)}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"records-table-container\">\r\n            <div className=\"table-wrapper\">\r\n              <table className=\"records-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Booking Location</th>\r\n                    <th>Seat Number</th>\r\n                    <th>Booking Date</th>\r\n                    <th>Booking Time Slot</th>\r\n                    <th>Booking Status</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {bookings.map(booking => (\r\n                    <tr key={booking.id}>\r\n                      <td>{formatLocation(booking.room)}</td>\r\n                      <td>{booking.seat_number}</td>\r\n                      <td>{new Date(booking.date).toISOString().split('T')[0]}</td>\r\n                      <td className=\"time-display\">\r\n                        {booking.start_time} - {booking.end_time}\r\n                      </td>\r\n                      <td>\r\n                        <span \r\n                          className={`status-badge status-${\r\n                            booking.status === 0 ? 'upcoming' : \r\n                            booking.status === 1 ? 'completed' : \r\n                            booking.status === 2 ? 'canceled' : 'expired'\r\n                          }`}\r\n                        >\r\n                          {statusMap[booking.status] || 'Unknown Status'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        {booking.status === 0 && (\r\n                          <button \r\n                            className=\"cancel-btn\"\r\n                            onClick={() => cancelBooking(booking.id)}\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default SeatRecords;"],"mappings":"iJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAC1B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAkB,SAAS,CAAG,CAAE,CAAC,CAAE,UAAU,CAAE,CAAC,CAAE,WAAW,CAAE,CAAC,CAAE,UAAU,CAAE,CAAC,CAAE,SAAU,CAAC,CAEhFjB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAAC,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAC1D,GAAI,CAACF,cAAc,CAAE,KAAM,IAAI,CAAAG,KAAK,CAAC,+CAA+C,CAAC,CAErF,KAAM,CAAAC,WAAW,CAAGC,IAAI,CAACC,KAAK,CAACN,cAAc,CAAC,CAC9C,GAAI,CAACI,WAAW,CAACG,EAAE,CAAE,KAAM,IAAI,CAAAJ,KAAK,CAAC,+CAA+C,CAAC,CAErF,KAAM,CAAAK,MAAM,CAAGJ,WAAW,CAACG,EAAE,CAC7B,KAAM,CAAAE,YAAY,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,kBAAiB,CACpFC,OAAO,CAAE,CAAE,SAAS,CAAEP,MAAO,CAC/B,CAAC,CAAC,CACFjB,WAAW,CAACkB,YAAY,CAACO,IAAI,CAAC,CAE9B,KAAM,CAAAC,gBAAgB,CAAG,KAAM,CAAAnC,KAAK,CAAC4B,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,0BAAAH,MAAA,CAAwBH,MAAM,CAAE,CAAC,CAC1G,KAAM,CAAAU,cAAc,CAAGD,gBAAgB,CAACD,IAAI,CAACG,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CAC1D,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,IAAAZ,MAAA,CAAIS,CAAC,CAACI,IAAI,MAAAb,MAAA,CAAIS,CAAC,CAACK,UAAU,CAAE,CAAC,CAACC,OAAO,CAAC,CAAC,CAC7D,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAJ,IAAI,IAAAZ,MAAA,CAAIU,CAAC,CAACG,IAAI,MAAAb,MAAA,CAAIU,CAAC,CAACI,UAAU,CAAE,CAAC,CAACC,OAAO,CAAC,CAAC,CAC7D,MAAO,CAAAC,KAAK,CAAGL,KAAK,CACtB,CAAC,CAAC,CACF7B,WAAW,CAACyB,cAAc,CAAC,CAC7B,CAAE,MAAOU,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZjC,QAAQ,CAAC,EAAAgC,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcb,IAAI,UAAAc,kBAAA,iBAAlBA,kBAAA,CAAoBE,OAAO,GAAIJ,GAAG,CAACI,OAAO,CAAC,CACtD,CAAC,OAAS,CACRrC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDI,oBAAoB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAkC,cAAc,CAAIC,IAAI,EAAK,CAC/B,GAAIA,IAAI,CAACC,UAAU,CAAC,UAAU,CAAC,CAAE,yBAAAxB,MAAA,CAA0BuB,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAC7E,GAAIF,IAAI,GAAK,SAAS,CAAE,MAAO,SAAS,CACxC,GAAIA,IAAI,CAACG,QAAQ,CAAC,GAAG,CAAC,CAAE,CACtB,KAAM,CAACC,aAAa,CAAEC,OAAO,CAAC,CAAGL,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAChD,2BAAAzB,MAAA,CAA4B2B,aAAa,CAACE,MAAM,CAAC,CAAC,CAAC,aAAA7B,MAAA,CAAW2B,aAAa,CAACG,KAAK,CAAC,CAAC,CAAC,MAAA9B,MAAA,CAAI4B,OAAO,EACjG,CACA,MAAO,CAAAL,IAAI,CACb,CAAC,CAED,KAAM,CAAAQ,aAAa,CAAG,KAAO,CAAAC,SAAS,EAAK,CACzC,GAAIC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAE,CACnE,GAAI,CACF,KAAM,CAAA/D,KAAK,CAACgE,GAAG,IAAAnC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,mBAAAH,MAAA,CAAiBgC,SAAS,WAAS,CAAC,CACpFlD,WAAW,CAACD,QAAQ,CAACuD,GAAG,CAACC,OAAO,EAC9BA,OAAO,CAACzC,EAAE,GAAKoC,SAAS,CAAAM,aAAA,CAAAA,aAAA,IAAQD,OAAO,MAAEE,MAAM,CAAE,CAAC,GAAKF,OACzD,CAAC,CAAC,CACJ,CAAE,MAAOpB,GAAG,CAAE,KAAAuB,cAAA,CAAAC,mBAAA,CACZC,KAAK,CAAC,4BAA4B,EAAI,EAAAF,cAAA,CAAAvB,GAAG,CAACG,QAAQ,UAAAoB,cAAA,kBAAAC,mBAAA,CAAZD,cAAA,CAAcnC,IAAI,UAAAoC,mBAAA,iBAAlBA,mBAAA,CAAoBpB,OAAO,GAAI,eAAe,CAAC,CAAC,CACxF,CACF,CACF,CAAC,CAED,mBACE9C,KAAA,QAAKoE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCvE,IAAA,UAAAuE,QAAA,okKAkLO,CAAC,cACRrE,KAAA,QAAKoE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvE,IAAA,OAAAuE,QAAA,CAAI,oBAAkB,CAAI,CAAC,CAC1BjE,QAAQ,eAAIJ,KAAA,MAAAqE,QAAA,EAAG,QAAM,CAACjE,QAAQ,CAACkE,IAAI,CAAC,aAAW,CAAClE,QAAQ,CAACmE,MAAM,EAAI,CAAC,EAClE,CAAC,CACL/D,OAAO,cACNV,IAAA,QAAKsE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,4BAA0B,CAAK,CAAC,CAC7D3D,KAAK,cACPZ,IAAA,QAAKsE,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAE3D,KAAK,CAAM,CAAC,CACxCJ,QAAQ,CAACkE,MAAM,GAAK,CAAC,cACvB1E,IAAA,QAAKsE,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,8BAA4B,CAAK,CAAC,cAE/DrE,KAAA,CAAAE,SAAA,EAAAmE,QAAA,eACEvE,IAAA,QAAKsE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B/D,QAAQ,CAACuD,GAAG,CAACC,OAAO,eACnB9D,KAAA,QAAsBoE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC5CrE,KAAA,QAAKoE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvE,IAAA,SAAMsE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEtB,cAAc,CAACe,OAAO,CAACd,IAAI,CAAC,CAAO,CAAC,cACxElD,IAAA,SACEsE,SAAS,wBAAA3C,MAAA,CACPqC,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,UAAU,CACjCF,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,WAAW,CAClCF,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,SAAS,CAC5C,CAAAK,QAAA,CAEFzD,SAAS,CAACkD,OAAO,CAACE,MAAM,CAAC,EAAI,gBAAgB,CAC1C,CAAC,EACJ,CAAC,cACNhE,KAAA,QAAKoE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BrE,KAAA,QAAKoE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvE,IAAA,SAAMsE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,cAClDvE,IAAA,SAAMsE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEP,OAAO,CAACW,WAAW,CAAO,CAAC,EACxD,CAAC,cACNzE,KAAA,QAAKoE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvE,IAAA,SAAMsE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,cACnDvE,IAAA,SAAMsE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAE,GAAI,CAAAhC,IAAI,CAACyB,OAAO,CAACxB,IAAI,CAAC,CAACoC,WAAW,CAAC,CAAC,CAACxB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAO,CAAC,EACvF,CAAC,cACNlD,KAAA,QAAKoE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCvE,IAAA,SAAMsE,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,cAChDrE,KAAA,SAAMoE,SAAS,CAAC,2BAA2B,CAAAC,QAAA,EACxCP,OAAO,CAACvB,UAAU,CAAC,KAAG,CAACuB,OAAO,CAACa,QAAQ,EACpC,CAAC,EACJ,CAAC,EACH,CAAC,cACN7E,IAAA,QAAKsE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAC7BP,OAAO,CAACE,MAAM,GAAK,CAAC,eACnBlE,IAAA,WACEsE,SAAS,CAAC,YAAY,CACtBQ,OAAO,CAAEA,CAAA,GAAMpB,aAAa,CAACM,OAAO,CAACzC,EAAE,CAAE,CAAAgD,QAAA,CAC1C,QAED,CAAQ,CACT,CACE,CAAC,GAtCEP,OAAO,CAACzC,EAuCb,CACN,CAAC,CACC,CAAC,cAENvB,IAAA,QAAKsE,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtCvE,IAAA,QAAKsE,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BrE,KAAA,UAAOoE,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9BvE,IAAA,UAAAuE,QAAA,cACErE,KAAA,OAAAqE,QAAA,eACEvE,IAAA,OAAAuE,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBvE,IAAA,OAAAuE,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBvE,IAAA,OAAAuE,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBvE,IAAA,OAAAuE,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BvE,IAAA,OAAAuE,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBvE,IAAA,OAAAuE,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRvE,IAAA,UAAAuE,QAAA,CACG/D,QAAQ,CAACuD,GAAG,CAACC,OAAO,eACnB9D,KAAA,OAAAqE,QAAA,eACEvE,IAAA,OAAAuE,QAAA,CAAKtB,cAAc,CAACe,OAAO,CAACd,IAAI,CAAC,CAAK,CAAC,cACvClD,IAAA,OAAAuE,QAAA,CAAKP,OAAO,CAACW,WAAW,CAAK,CAAC,cAC9B3E,IAAA,OAAAuE,QAAA,CAAK,GAAI,CAAAhC,IAAI,CAACyB,OAAO,CAACxB,IAAI,CAAC,CAACoC,WAAW,CAAC,CAAC,CAACxB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAK,CAAC,cAC7DlD,KAAA,OAAIoE,SAAS,CAAC,cAAc,CAAAC,QAAA,EACzBP,OAAO,CAACvB,UAAU,CAAC,KAAG,CAACuB,OAAO,CAACa,QAAQ,EACtC,CAAC,cACL7E,IAAA,OAAAuE,QAAA,cACEvE,IAAA,SACEsE,SAAS,wBAAA3C,MAAA,CACPqC,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,UAAU,CACjCF,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,WAAW,CAClCF,OAAO,CAACE,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,SAAS,CAC5C,CAAAK,QAAA,CAEFzD,SAAS,CAACkD,OAAO,CAACE,MAAM,CAAC,EAAI,gBAAgB,CAC1C,CAAC,CACL,CAAC,cACLlE,IAAA,OAAAuE,QAAA,CACGP,OAAO,CAACE,MAAM,GAAK,CAAC,eACnBlE,IAAA,WACEsE,SAAS,CAAC,YAAY,CACtBQ,OAAO,CAAEA,CAAA,GAAMpB,aAAa,CAACM,OAAO,CAACzC,EAAE,CAAE,CAAAgD,QAAA,CAC1C,QAED,CAAQ,CACT,CACC,CAAC,GA3BEP,OAAO,CAACzC,EA4Bb,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,CACH,CAAC,EACN,CACH,EACE,CAAC,CAEV,CAAC,CACD,cAAe,CAAAlB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}